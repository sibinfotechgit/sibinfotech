{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport Link from 'next/link';\nimport axios from \"axios\"; // import { toast } from 'react-toastify';\n\nimport * as CONSTANTS from \"../constants/constants\";\nimport * as functions from \"../functions/functions\";\nexport default function BannerForm() {\n  var headers = {\n    'Content-Type': 'multipart/form-data',\n    'Authorization': CONSTANTS.API_TOKEN\n  };\n\n  var _useState = useState(),\n      code = _useState[0],\n      setCode = _useState[1];\n\n  var _useState2 = useState({\n    name: \"\",\n    cname: \"\",\n    email: \"\",\n    phone: \"\",\n    details: \"\",\n    service: \"\",\n    website: \"\",\n    cpatchaText: \"\"\n  }),\n      inputs = _useState2[0],\n      setInputs = _useState2[1];\n\n  var handleInputChange = function handleInputChange(e) {\n    setInputs(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, _defineProperty({}, e.target.name, e.target.value));\n    });\n  };\n\n  var submitEnquiry = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var formData, res, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              formData = new FormData();\n              formData.append('name', inputs.name);\n              formData.append('cname', inputs.cname);\n              formData.append('email', inputs.email);\n              formData.append('phone', inputs.phone);\n              formData.append('details', inputs.details);\n              formData.append('service', inputs.service);\n              formData.append('website', inputs.website);\n              formData.append('page_url', window.location.pathname);\n              _context.next = 11;\n              return axios.post(\"\".concat(CONSTANTS.API_URL, \"home/submit_banner_enquiry\"), formData, {\n                headers: headers\n              })[\"catch\"](function (err) {\n                return console.log(err);\n              });\n\n            case 11:\n              res = _context.sent;\n              _context.next = 14;\n              return res.data;\n\n            case 14:\n              data = _context.sent;\n              return _context.abrupt(\"return\", data);\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function submitEnquiry() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n\n    if (code == inputs.cpatchaText) {\n      submitEnquiry().then(function (data) {\n        if (!data.error) {\n          // toast.success(data.message);\n          setInputs({\n            name: \"\",\n            cname: \"\",\n            email: \"\",\n            phone: \"\",\n            details: \"\",\n            service: \"\",\n            website: \"\",\n            cpatchaText: \"\"\n          });\n        } else {// toast.error(data.message);\n        }\n      });\n    } else {\n      alert(\"Invalid Captcha. try Again\");\n      createCaptcha();\n    }\n  };\n\n  var createCaptcha = function createCaptcha(e) {\n    var returnCode = functions.createCaptcha();\n    setCode(returnCode);\n  };\n\n  useEffect(function () {\n    createCaptcha();\n  }, []);\n  return /*#__PURE__*/_jsx(\"div\", {\n    children: /*#__PURE__*/_jsxs(\"form\", {\n      onSubmit: handleSubmit,\n      method: \"post\",\n      action: \"#\",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"bannerFormItem\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"col-lg-6 pe-lg-1\",\n            children: /*#__PURE__*/_jsx(\"input\", {\n              type: \"text\",\n              name: \"name\",\n              onChange: handleInputChange,\n              value: inputs.name,\n              placeholder: \"Name*\",\n              required: true\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsx(\"input\", {\n              type: \"text\",\n              name: \"cname\",\n              onChange: handleInputChange,\n              value: inputs.cname,\n              placeholder: \"Company Name\"\n            })\n          })]\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"bannerFormItem\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"col-lg-6 pe-lg-1\",\n            children: /*#__PURE__*/_jsx(\"input\", {\n              type: \"text\",\n              name: \"website\",\n              onChange: handleInputChange,\n              value: inputs.website,\n              placeholder: \"Website URL\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsx(\"input\", {\n              type: \"email\",\n              name: \"email\",\n              onChange: handleInputChange,\n              value: inputs.email,\n              placeholder: \"E-mail Address*\",\n              required: true\n            })\n          })]\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"bannerFormItem\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"col-lg-6 pe-lg-1\",\n            children: /*#__PURE__*/_jsx(\"input\", {\n              type: \"tel\",\n              name: \"phone\",\n              onChange: handleInputChange,\n              value: inputs.phone,\n              placeholder: \"Phone Number*\",\n              required: true\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsxs(\"select\", {\n              name: \"service\",\n              onChange: handleInputChange,\n              value: inputs.service,\n              required: true,\n              children: [/*#__PURE__*/_jsx(\"option\", {\n                value: \"Website Design\",\n                children: \"Website Design\"\n              }), /*#__PURE__*/_jsx(\"option\", {\n                value: \"Website Development\",\n                children: \"Website Development\"\n              }), /*#__PURE__*/_jsx(\"option\", {\n                value: \"Digital Marketing\",\n                children: \"Digital Marketing\"\n              }), /*#__PURE__*/_jsx(\"option\", {\n                value: \"PPC\",\n                children: \"PPC\"\n              }), /*#__PURE__*/_jsx(\"option\", {\n                value: \"SEO\",\n                children: \"SEO\"\n              }), /*#__PURE__*/_jsx(\"option\", {\n                value: \"SMO\",\n                children: \"SMO\"\n              }), /*#__PURE__*/_jsx(\"option\", {\n                value: \"Software Development\",\n                children: \"Software Development\"\n              }), /*#__PURE__*/_jsx(\"option\", {\n                value: \"Graphic Design\",\n                children: \"Graphic Design\"\n              }), /*#__PURE__*/_jsx(\"option\", {\n                value: \"Mobile App Development\",\n                children: \"Mobile App Development\"\n              }), /*#__PURE__*/_jsx(\"option\", {\n                value: \"Offshore Outsourcing\",\n                children: \"Offshore Outsourcing\"\n              })]\n            })\n          })]\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"bannerFormItem\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-lg-12\",\n            children: /*#__PURE__*/_jsx(\"textarea\", {\n              placeholder: \"Message\",\n              name: \"details\",\n              onChange: handleInputChange,\n              value: inputs.details\n            })\n          })\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"bannerFormItem mt-0 d-lg-block d-none\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"row align-items-center\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"col-3\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"captcha\",\n              id: \"captcha\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-1\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              id: \"refresh_captcha\",\n              onClick: createCaptcha,\n              children: /*#__PURE__*/_jsx(\"i\", {\n                className: \"bi bi-arrow-clockwise\"\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-8\",\n            children: /*#__PURE__*/_jsx(\"input\", {\n              type: \"text\",\n              className: \"capIn\",\n              placeholder: \"Type the text\",\n              name: \"cpatchaText\",\n              id: \"cpatchaTextBox\",\n              onChange: handleInputChange,\n              value: inputs.cpatchaText,\n              required: true\n            })\n          })]\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"bannerFormItem mt-2\",\n        children: /*#__PURE__*/_jsx(\"button\", {\n          name: \"submit\",\n          type: \"submit\",\n          className: \"btnTheme w-100 fontWeight700 rounded\",\n          children: \"Get in Touch\"\n        })\n      })]\n    })\n  });\n}","map":null,"metadata":{},"sourceType":"module"}