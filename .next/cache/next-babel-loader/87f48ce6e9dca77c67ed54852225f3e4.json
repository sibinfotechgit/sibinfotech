{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport Link from 'next/link';\nimport axios from \"axios\"; // import { toast } from 'react-toastify';\n\nimport * as CONSTANTS from \"../constants/constants\";\nimport * as functions from \"../functions/functions\";\nexport default function BannerForm() {\n  const headers = {\n    'Content-Type': 'multipart/form-data',\n    'Authorization': CONSTANTS.API_TOKEN\n  };\n  const {\n    0: code,\n    1: setCode\n  } = useState();\n  const {\n    0: inputs,\n    1: setInputs\n  } = useState({\n    name: \"\",\n    cname: \"\",\n    email: \"\",\n    phone: \"\",\n    details: \"\",\n    service: \"\",\n    website: \"\",\n    cpatchaText: \"\"\n  });\n\n  const handleInputChange = e => {\n    setInputs(prevState => _objectSpread(_objectSpread({}, prevState), {}, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const submitEnquiry = async () => {\n    const formData = new FormData();\n    formData.append('name', inputs.name);\n    formData.append('cname', inputs.cname);\n    formData.append('email', inputs.email);\n    formData.append('phone', inputs.phone);\n    formData.append('details', inputs.details);\n    formData.append('service', inputs.service);\n    formData.append('website', inputs.website);\n    formData.append('page_url', window.location.pathname);\n    const res = await axios.post(`${CONSTANTS.API_URL}home/submit_banner_enquiry`, formData, {\n      headers: headers\n    }).catch(err => console.log(err));\n    const data = await res.data;\n    return data;\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (code == inputs.cpatchaText) {\n      submitEnquiry().then(data => {\n        if (!data.error) {\n          // toast.success(data.message);\n          setInputs({\n            name: \"\",\n            cname: \"\",\n            email: \"\",\n            phone: \"\",\n            details: \"\",\n            service: \"\",\n            website: \"\",\n            cpatchaText: \"\"\n          });\n        } else {// toast.error(data.message);\n        }\n      });\n    } else {\n      alert(\"Invalid Captcha. try Again\");\n      createCaptcha();\n    }\n  };\n\n  const createCaptcha = e => {\n    let returnCode = functions.createCaptcha();\n    setCode(returnCode);\n  };\n\n  useEffect(() => {\n    createCaptcha();\n  }, []);\n  return /*#__PURE__*/_jsx(\"div\", {\n    children: /*#__PURE__*/_jsxs(\"form\", {\n      onSubmit: handleSubmit,\n      method: \"post\",\n      action: \"#\",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"bannerFormItem\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"col-lg-6 pe-lg-1\",\n            children: /*#__PURE__*/_jsx(\"input\", {\n              type: \"text\",\n              name: \"name\",\n              onChange: handleInputChange,\n              value: inputs.name,\n              placeholder: \"Name*\",\n              required: true\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsx(\"input\", {\n              type: \"text\",\n              name: \"cname\",\n              onChange: handleInputChange,\n              value: inputs.cname,\n              placeholder: \"Company Name\"\n            })\n          })]\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"bannerFormItem\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"col-lg-6 pe-lg-1\",\n            children: /*#__PURE__*/_jsx(\"input\", {\n              type: \"text\",\n              name: \"website\",\n              onChange: handleInputChange,\n              value: inputs.website,\n              placeholder: \"Website URL\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsx(\"input\", {\n              type: \"email\",\n              name: \"email\",\n              onChange: handleInputChange,\n              value: inputs.email,\n              placeholder: \"E-mail Address*\",\n              required: true\n            })\n          })]\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"bannerFormItem\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"col-lg-6 pe-lg-1\",\n            children: /*#__PURE__*/_jsx(\"input\", {\n              type: \"tel\",\n              name: \"phone\",\n              onChange: handleInputChange,\n              value: inputs.phone,\n              placeholder: \"Phone Number*\",\n              required: true\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsxs(\"select\", {\n              name: \"service\",\n              onChange: handleInputChange,\n              value: inputs.service,\n              required: true,\n              children: [/*#__PURE__*/_jsx(\"option\", {\n                value: \"Website Design\",\n                children: \"Website Design\"\n              }), /*#__PURE__*/_jsx(\"option\", {\n                value: \"Website Development\",\n                children: \"Website Development\"\n              }), /*#__PURE__*/_jsx(\"option\", {\n                value: \"Digital Marketing\",\n                children: \"Digital Marketing\"\n              }), /*#__PURE__*/_jsx(\"option\", {\n                value: \"PPC\",\n                children: \"PPC\"\n              }), /*#__PURE__*/_jsx(\"option\", {\n                value: \"SEO\",\n                children: \"SEO\"\n              }), /*#__PURE__*/_jsx(\"option\", {\n                value: \"SMO\",\n                children: \"SMO\"\n              }), /*#__PURE__*/_jsx(\"option\", {\n                value: \"Software Development\",\n                children: \"Software Development\"\n              }), /*#__PURE__*/_jsx(\"option\", {\n                value: \"Graphic Design\",\n                children: \"Graphic Design\"\n              }), /*#__PURE__*/_jsx(\"option\", {\n                value: \"Mobile App Development\",\n                children: \"Mobile App Development\"\n              }), /*#__PURE__*/_jsx(\"option\", {\n                value: \"Offshore Outsourcing\",\n                children: \"Offshore Outsourcing\"\n              })]\n            })\n          })]\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"bannerFormItem\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-lg-12\",\n            children: /*#__PURE__*/_jsx(\"textarea\", {\n              placeholder: \"Message\",\n              name: \"details\",\n              onChange: handleInputChange,\n              value: inputs.details\n            })\n          })\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"bannerFormItem mt-0 d-lg-block d-none\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"row align-items-center\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"col-3\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"captcha\",\n              id: \"captcha\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-1\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              id: \"refresh_captcha\",\n              onClick: createCaptcha,\n              children: /*#__PURE__*/_jsx(\"i\", {\n                className: \"bi bi-arrow-clockwise\"\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-8\",\n            children: /*#__PURE__*/_jsx(\"input\", {\n              type: \"text\",\n              className: \"capIn\",\n              placeholder: \"Type the text\",\n              name: \"cpatchaText\",\n              id: \"cpatchaTextBox\",\n              onChange: handleInputChange,\n              value: inputs.cpatchaText,\n              required: true\n            })\n          })]\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"bannerFormItem mt-2\",\n        children: /*#__PURE__*/_jsx(\"button\", {\n          name: \"submit\",\n          type: \"submit\",\n          className: \"btnTheme w-100 fontWeight700 rounded\",\n          children: \"Get in Touch\"\n        })\n      })]\n    })\n  });\n}","map":null,"metadata":{},"sourceType":"module"}